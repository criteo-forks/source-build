From aabf9762870d9e39d6629486e6b28ba552b77ddf Mon Sep 17 00:00:00 2001
From: Christophe Nasarre <c.nasarresoulier@criteo.com>
Date: Mon, 7 Oct 2019 11:25:01 +0200
Subject: [PATCH 2/2] Fix missing managed types name (UNKNOWN) in dump files
 generated by createdump

---
 src/debug/createdump/crashinfo.cpp | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/src/debug/createdump/crashinfo.cpp b/src/debug/createdump/crashinfo.cpp
index 7b5c20b..f3c085a 100644
--- a/src/debug/createdump/crashinfo.cpp
+++ b/src/debug/createdump/crashinfo.cpp
@@ -202,6 +202,11 @@ CrashInfo::GatherCrashInfo(MINIDUMP_TYPE minidumpType)
     // the heap regions are marked RWX instead of just RW.
     else if (minidumpType & MiniDumpWithPrivateReadWriteMemory)
     {
+        for (const MemoryRegion& region : m_moduleMappings)
+        {
+            InsertMemoryBackedRegion(region);
+        }
+
         for (const MemoryRegion& region : m_otherMappings)
         {
             uint32_t permissions = region.Permissions();
-- 
1.8.3.1

